<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="home_page" name="Home Page">
        <t t-call="website.layout">
            <div id="city-popup" class="modal" style="display:block;">
                <div class="modal-content" style="max-width:400px;margin:auto;padding:20px;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.2);background:#fff;">
                    <h6>Select Your City and Area</h6>
                    <form>
                        <label for="city-select">City</label>
                        <select id="city-select" name="city" style="width:100%;padding:8px;margin-bottom:10px;">
                            <t t-foreach="cities" t-as="city">
                                <option t-att-value="city.id">
                                    <t t-esc="city.name"/>
                                </option>
                            </t>
                        </select>
                        <label for="area-select">Area</label>
                        <select id="area-select" name="area" style="width:100%;padding:8px;">
                            <option value="">Select Area</option>
                            <!-- Areas will be dynamically loaded based on city selection -->
                        </select>
                        <button type="submit" style="margin-top:10px;width:100%;padding:8px;background:#007bff;color:#fff;border:none;border-radius:5px;">Confirm</button>
                    </form>
                </div>
            </div>
            <script>
                // Example: Dummy areas data, replace with AJAX for real data
                var areasByCity = {
                    1: ["Downtown", "Uptown", "Suburb"],
                    2: ["East Side", "West End"],
                    3: ["Central", "North", "South"]
                };
                document.getElementById('city-select').onchange = function() {
                    var cityId = this.value;
                    var areaSelect = document.getElementById('area-select');
                    areaSelect.innerHTML = '<option value="">Select Area</option>';
                    if (areasByCity[cityId]) {
                        areasByCity[cityId].forEach(function(area) {
                            var opt = document.createElement('option');
                            opt.value = area;
                            opt.textContent = area;
                            areaSelect.appendChild(opt);
                        });
                    }
                };
                document.querySelector('#city-popup form').onsubmit = function(e){
                    e.preventDefault();
                    document.getElementById('city-popup').style.display = 'none';
                    // You can add AJAX here to save the selection
                }
            </script>
        </t>
    </template>

</odoo>